<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>UMarket - Inicio</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<header>
    <div class="navbar container">
        <a th:href="@{/}" class="logo">UMarket</a> 
        
        <ul class="nav-links">
            
            <li><a th:href="@{/}">Inicio</a></li> 
            
            <li><a th:href="@{/carrito}">Carrito</a></li>

            <li th:if="${usuario == null}">
                <a th:href="@{/login}" class="nav-link-button">Iniciar Sesi칩n</a>
            </li>
            <li th:if="${usuario == null}">
                <a th:href="@{/registro}" class="nav-link-button">Registro</a>
            </li>
            
            <li th:if="${usuario != null}" class="logout-item">
                <span class="user-greeting">Hola, <b th:text="${usuario.userName}"></b></span>
                
                <form th:action="@{/logout}" method="post" class="logout-form">
                    <button type="submit" class="nav-logout-btn">Cerrar Sesi칩n</button>
                </form>
            </li>
        </ul>
    </div>
</header>
<main>
    <h2>Cat치logo de Productos</h2>
    <div class="productos">
        <div th:each="producto : ${productos}" class="producto">
            <img th:src="${producto.imagenUrl}" alt="Imagen producto">
            <h3 th:text="${producto.nombre}"></h3>
            <p th:text="${producto.descripcion}"></p>
            <p><b>$</b><span th:text="${producto.precio}"></span></p>
            <form th:action="@{'/carrito/agregar/' + ${producto.id}}" method="post" th:if="${usuario != null}">
                <button type="submit">Agregar al carrito</button>
            </form>
            <p th:if="${usuario == null}">Inicia sesi칩n para comprar</p>
        </div>
    </div>
</main>

</body>
</html>
